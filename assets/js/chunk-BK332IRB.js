import{_ as e}from"./chunk-BSkDVZwu.js";import{B as l}from"./chunk-D1x9GjZA.js";import{f as a,D as t,z as u,j as i,a as n,b as v,c as o,w as s,i as r,r as m,o as d,F as _,k as c,l as g,t as p,y as f,K as y,d as k,S as h,e as $,q as b,s as j,_ as w}from"./index-C0NYUNzT.js";const x={class:"container"},C=(e=>(b("data-v-d0070b64"),e=e(),j(),e))((()=>k("div",{class:"d_flex items_center content_between"},[k("h3",null,"王者荣耀图鉴"),k("h6",null,[g("数据内容来自"),k("a",{href:"https://pvp.qq.com/"},"王者荣耀"),g("官网，以下数据仅供参考，具体数据以游戏内为准")])],-1))),S=["onClick"],q=["onClick"],J=["onClick"],O=["onClick"],N="https://pvp.qq.com/web201605/js/",R="//game.gtimg.cn/images/yxzj/img201606/",z=w({__name:"pvp-atlas",setup(b){const j=r("Jsonp"),w=a([]),z=a([]),I=a([]),U=a([]),H=(e,l)=>`https://bird.ioliu.cn/v2?url=${e}&callback=${l}`;j(H(`${N}herolist.json`,"pvp_hero"),"pvp_hero",(e=>w.value=JSON.parse(e))),j(H(`${N}item.json`,"pvp_item"),"pvp_item",(e=>z.value=JSON.parse(e))),j(H(`${N}summoner.json`,"pvp_summoner"),"pvp_summoner",(e=>I.value=JSON.parse(e))),j(H(`${N}ming.json`,"pvp_ming"),"pvp_ming",(e=>U.value=JSON.parse(e)));const A={xs:8,sm:6,md:3},B=a(10),D=a([]),E=a([]),F=a([]),K=a([]),T=new IntersectionObserver((e=>{e.forEach((e=>{var l,a,t,u,i,n,v,o;e.isIntersecting&&(B.value+=10,T.unobserve(e.target),T.observe((null==(a=null==(l=D.value)?void 0:l.at(-1))?void 0:a.$el)||(null==(u=null==(t=E.value)?void 0:t.at(-1))?void 0:u.$el)||(null==(n=null==(i=F.value)?void 0:i.at(-1))?void 0:n.$el)||(null==(o=null==(v=K.value)?void 0:v.at(-1))?void 0:o.$el)))}))}));t([D,E,F,K],(()=>{var e,l,a,t,u,i,n,v;(D.value.length||E.value.length||F.value.length||K.value.length)&&T.observe((null==(l=null==(e=D.value)?void 0:e.at(-1))?void 0:l.$el)||(null==(t=null==(a=E.value)?void 0:a.at(-1))?void 0:t.$el)||(null==(i=null==(u=F.value)?void 0:u.at(-1))?void 0:i.$el)||(null==(v=null==(n=K.value)?void 0:n.at(-1))?void 0:v.$el))}),{deep:!0});const V=()=>{B.value=10,T.disconnect(),document.querySelector(".ant-card-body").scrollTop=0},G=a([]),L=a(!0),M=a("hero"),P=a(0),Q=a(0),W=a(0),X=u((()=>[{title:"英雄",key:"hero",num:w.value.length},{title:"局内道具",key:"item",num:z.value.length},{title:"召唤师技能",key:"summoner",num:I.value.length},{title:"铭文",key:"ming",num:U.value.length}])),Y=[{key:0,title:"全部"},{key:3,title:"坦克"},{key:1,title:"战士"},{key:4,title:"刺客"},{key:2,title:"法师"},{key:5,title:"射手"},{key:6,title:"辅助"}],Z=[{key:0,title:"全部"},{key:1,title:"攻击"},{key:2,title:"法术"},{key:3,title:"防御"},{key:4,title:"移动"},{key:5,title:"打野"},{key:7,title:"游走"}];return t([M,P,Q,W],(()=>{B.value=10,L.value=!1,h((()=>{L.value=!0}))})),(a,t)=>{const u=m("a-divider"),r=m("a-radio-button"),h=m("a-radio-group"),b=m("a-card"),j=m("a-col"),N=m("a-row"),H=m("a-image"),T=m("a-image-preview-group"),W=$("lazy"),ee=$("calcHeight");return d(),i("div",x,[n(l,{overlayShow:""}),v((d(),o(b,{hoverable:!0},{title:s((()=>[C,n(u),n(h,{value:M.value,"onUpdate:value":t[0]||(t[0]=e=>M.value=e),"button-style":"solid",class:"d_flex items_center content_around",onChange:V},{default:s((()=>[(d(!0),i(_,null,c(X.value,((e,l)=>(d(),o(r,{key:l,value:e.key},{default:s((()=>[g(p(e.title)+"（"+p(e.num)+"）",1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),default:s((()=>["hero"===M.value?(d(),i(_,{key:0},[n(h,{value:P.value,"onUpdate:value":t[1]||(t[1]=e=>P.value=e),"button-style":"solid",class:"px_3 scroll_x"},{default:s((()=>[(d(),i(_,null,c(Y,((e,l)=>n(r,{key:l,value:e.key},{default:s((()=>[g(p(e.title),1)])),_:2},1032,["value"]))),64))])),_:1},8,["value"]),n(u)],64)):f("",!0),"item"===M.value?(d(),i(_,{key:1},[n(h,{value:Q.value,"onUpdate:value":t[2]||(t[2]=e=>Q.value=e),"button-style":"solid",class:"px_3 scroll_x"},{default:s((()=>[(d(),i(_,null,c(Z,((e,l)=>n(r,{key:l,value:e.key},{default:s((()=>[g(p(e.title),1)])),_:2},1032,["value"]))),64))])),_:1},8,["value"]),n(u)],64)):f("",!0),n(N,{gutter:[10,10]},{default:s((()=>[L.value&&"hero"===M.value?(d(!0),i(_,{key:0},c(w.value.filter((e=>!P.value||e.hero_type===P.value||e.hero_type2===P.value)).slice(0,B.value),((l,a)=>(d(),o(j,y({ref_for:!0},A,{key:a}),{default:s((()=>[n(b,{ref_for:!0,ref_key:"heroRef",ref:D,hoverable:!0},{title:s((()=>[g(p(l.cname),1)])),default:s((()=>[v(k("img",{class:"image",src:e,onClick:e=>G.value=[`${R}heroimg/${l.ename}/${l.ename}.jpg`,...Array.from({length:l.skin_name.split("|").length},((e,a)=>`${R}heroimg/${l.ename}/${l.ename}-bigskin-${a}.jpg`))]},null,8,S),[[W,`${R}heroimg/${l.ename}/${l.ename}.jpg`]])])),_:2},1536)])),_:2},1040)))),128)):f("",!0),L.value&&"item"===M.value?(d(!0),i(_,{key:1},c(z.value.filter((e=>!Q.value||e.item_type===Q.value)).slice(0,B.value),((l,a)=>(d(),o(j,y({ref_for:!0},A,{key:a}),{default:s((()=>[n(b,{ref_for:!0,ref_key:"itemRef",ref:E,hoverable:!0},{title:s((()=>[g(p(l.item_name),1)])),default:s((()=>[v(k("img",{class:"image",src:e,onClick:e=>G.value=[`${R}itemimg/${l.item_id}.jpg`]},null,8,q),[[W,`${R}itemimg/${l.item_id}.jpg`]])])),_:2},1536)])),_:2},1040)))),128)):f("",!0),L.value&&"summoner"===M.value?(d(!0),i(_,{key:2},c(I.value.slice(0,B.value),((l,a)=>(d(),o(j,y({ref_for:!0},A,{key:a}),{default:s((()=>[n(b,{ref_for:!0,ref_key:"summonerRef",ref:F,hoverable:!0},{title:s((()=>[g(p(l.summoner_name),1)])),default:s((()=>[v(k("img",{class:"image",src:e,onClick:e=>G.value=[`${R}summoner/${l.summoner_id}.jpg`,`${R}summoner/${l.summoner_id}-big.jpg`]},null,8,J),[[W,`${R}summoner/${l.summoner_id}.jpg`]])])),_:2},1536)])),_:2},1040)))),128)):f("",!0),L.value&&"ming"===M.value?(d(!0),i(_,{key:3},c(U.value.slice(0,B.value),((l,a)=>(d(),o(j,y({ref_for:!0},A,{key:a}),{default:s((()=>[n(b,{ref_for:!0,ref_key:"mingRef",ref:K,hoverable:!0},{title:s((()=>[g(p(l.ming_name),1)])),default:s((()=>[v(k("img",{class:"image",src:e,onClick:e=>G.value=[`${R}mingwen/${l.ming_id}.png`]},null,8,O),[[W,`${R}mingwen/${l.ming_id}.png`]])])),_:2},1536)])),_:2},1040)))),128)):f("",!0)])),_:1})])),_:1})),[[ee,{height:18,dom:".ant-card-body"}]]),n(T,{preview:{visible:G.value.length>0,onVisibleChange:e=>!e&&(G.value=[])}},{default:s((()=>[(d(!0),i(_,null,c(G.value,((e,l)=>(d(),o(H,{key:l,src:e},null,8,["src"])))),128))])),_:1},8,["preview"])])}}},[["__scopeId","data-v-d0070b64"]]);export{z as default};
