var t=Object.defineProperty,i=(i,s,e)=>((i,s,e)=>s in i?t(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e)(i,"symbol"!=typeof s?s+"":s,e);import{B as s}from"./chunk-BRolHYKi.js";import{_ as e,o as a,j as r,C as n,a as h,w as d,r as o,d as c,q as l,s as m}from"./index-BIacclU9.js";const u={},f={class:"preloader"},v=[n('<div class="spinner" data-v-50fecf50><div class="rect1" data-v-50fecf50></div><div class="rect2" data-v-50fecf50></div><div class="rect3" data-v-50fecf50></div><div class="rect4" data-v-50fecf50></div><div class="rect5" data-v-50fecf50></div></div>',1)];const y=e(u,[["render",function(t,i){return a(),r("div",f,v)}],["__scopeId","data-v-50fecf50"]]);class x extends HTMLElement{constructor(){super(),i(this,"canvas"),i(this,"ctx"),i(this,"min",60),i(this,"max",270),i(this,"transformDuration",500),i(this,"transformationDelay",500),i(this,"angularVelocity",.2),i(this,"ratio",window.devicePixelRatio),i(this,"csize",this.ratio*this.size),i(this,"start",0),i(this,"end",this.min),i(this,"_a",Math.PI/180),i(this,"add",((t,i)=>(t+i)%360)),i(this,"circle",(()=>{let t=0;return i=>{if(t+=i,this.start=this.add(this.start,this.angularVelocity*i),this.end=this.add(this.end,this.angularVelocity*i),this.render(),t>this.transformationDelay)return this.state=3===this.state?0:this.state+1,t=0}})()),i(this,"stretch",(()=>{let t=0;const i=(this.max-this.min)/this.transformDuration,s=i/this.transformDuration,e=this.transformDuration/2;return a=>{if(t+=a,this.start=this.add(this.start,this.angularVelocity*a),this.end=this.add(this.end,(2*(t>e?i-(t-e)*s:t*s)+this.angularVelocity)*a),t>this.transformDuration)return this.end=this.start+this.max,this.state++,this.render(),t=0;this.render()}})()),i(this,"shrink",(()=>{let t=0;const i=(this.max-this.min)/this.transformDuration,s=i/this.transformDuration,e=this.transformDuration/2;return a=>{if(t+=a,this.start=this.add(this.start,(2*(t>e?i-(t-e)*s:t*s)+this.angularVelocity)*a),this.end=this.add(this.end,this.angularVelocity*a),t>this.transformDuration)return this.start=this.end-this.min,this.state++,this.render(),t=0;this.render()}})()),i(this,"state",0),i(this,"f",(t=>{0==this.state&&this.stretch(t),1==this.state&&this.circle(t),2==this.state&&this.shrink(t),3==this.state&&this.circle(t)})),i(this,"radStart",0),i(this,"radEnd",0),i(this,"timeStamp"),i(this,"drawOneFrame",(t=>{if(!this.timeStamp)return this.timeStamp=t,void requestAnimationFrame(this.drawOneFrame);const i=t-this.timeStamp;this.timeStamp=t,this.f(i),this.ctx.strokeStyle=this.strokeStyle,this.ctx.clearRect(0,0,this.size,this.size),this.ctx.beginPath(),this.ctx.arc(this.size/2,this.size/2,(this.size-this.lineWidth)/2,this.radStart,this.radEnd),this.ctx.stroke(),this.ctx.closePath(),requestAnimationFrame(this.drawOneFrame)})),i(this,"watchedAttrs",["size","min","max","transformDuration","transformationDelay","angularVelocity","roundCap","lineWidth","strokeStyle"]);const t=this.attachShadow({mode:"open"});t.innerHTML='<canvas id="canvas"></canvas>',this.canvas=t.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.size=200,this.roundCap=!0,this.lineWidth=6,this.strokeStyle=document.body.style.getPropertyValue("--controlColor")||"#000"}initCanvas(){this.ctx.scale(devicePixelRatio,devicePixelRatio),this.roundCap=!0,this.lineWidth=6,this.strokeStyle=document.body.style.getPropertyValue("--controlColor")||"#000"}get size(){return this.canvas?this.canvas.getBoundingClientRect().width:200}set size(t){const i=this.canvas;i.style.width=`${t}px`,i.style.height=`${t}px`,i.width=t*devicePixelRatio,i.height=t*devicePixelRatio,this.initCanvas()}get roundCap(){return"round"===this.ctx.lineCap}set roundCap(t){this.ctx.lineCap=t?"round":"butt"}get lineWidth(){return this.ctx.lineWidth}set lineWidth(t){this.ctx.lineWidth=t}get strokeStyle(){return this.ctx.strokeStyle}set strokeStyle(t){this.ctx.strokeStyle=t}render(){this.radStart=this.start*this._a,this.radEnd=this.end*this._a}connectedCallback(){this.watchedAttrs.map((t=>this.initAttr(t))),requestAnimationFrame(this.drawOneFrame)}initAttr(t){if(!this.hasAttribute(t))return null;const i=this.getAttribute(t);this[t]=isNaN(+i)?i:+i}attributeChangedCallback(t,i,s){"size"!==t&&this.watchedAttrs.includes(t)&&(this[t]=isNaN(+s)?s:+s)}}const p=t=>(l("data-v-ae56e7af"),t=t(),m(),t),g={class:"container"},w={class:"box"},b=p((()=>c("img",{src:"data:image/svg+xml,%3csvg%20width='40px'%20height='40px'%20viewBox='0%200%2044%2044'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='22'%20cy='22'%20r='20'%20fill='none'%20stroke='%23359dda'%20stroke-width='4'%3e%3canimate%20attributeName='stroke-dasharray'%20from='4,126'%20to='130,126'%20dur='1.5'%20repeatCount='indefinite'%20/%3e%3canimate%20attributeName='stroke-dashoffset'%20from='0'%20to='-130'%20dur='1.5'%20repeatCount='indefinite'%20/%3e%3canimateTransform%20attributeName='transform'%20attributeType='XML'%20type='rotate'%20from='0%2022%2022'%20to='360%2022%2022'%20dur='2'%20repeatCount='indefinite'%20/%3e%3c/circle%3e%3c/svg%3e",width:"100"},null,-1))),k=p((()=>c("my-loading",{size:"100",lineWidth:"10",strokeStyle:"#359dda"},null,-1))),C=p((()=>c("div",{class:"ltzj-loading"},null,-1))),S=e({__name:"loading",setup:t=>(customElements.define("my-loading",x),(t,i)=>{const e=o("a-card");return a(),r("div",g,[h(s,{overlayShow:""}),h(e,{title:"加载动画",class:"mb_2",hoverable:!0},{default:d((()=>[c("div",w,[b,k,h(y),C])])),_:1})])})},[["__scopeId","data-v-ae56e7af"]]);export{S as default};
