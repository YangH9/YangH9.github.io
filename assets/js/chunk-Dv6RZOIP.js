import{B as e}from"./chunk-BM2zwdFa.js";import{_ as a}from"./chunk-Cltm9_Gh.js";import{M as l}from"./chunk-CAOVqDnz.js";import{f as t,D as o,z as n,o as i,c as d,a as u,l as s,r,E as c,G as p,p as m,I as b,j as v,w as f,b as g,d as h,t as y,e as k,_}from"./index-7o_nj4vT.js";const x={__name:"SetColumn",props:{colList:Array},emits:["submit"],setup(e,{emit:a}){const l=e,m=a,b=t(null),v=t(null),f=t(null);o((()=>l.colList),(e=>{b.value=e.filter((e=>e.active)).map((e=>e.prop)),v.value=e.filter((e=>e.default)).map((e=>e.prop)),f.value=e.filter((e=>e.disabled)).map((e=>e.prop))}),{immediate:!0});const g=t(b.value.length===l.colList.length),h=n((()=>b.value.length>0&&b.value.length<l.colList.length)),y=()=>{c({title:"修改展示列",message:()=>{let e;return u("div",null,[u("div",{class:"flex content_between"},[u(r("el-checkbox"),{modelValue:g.value,"onUpdate:modelValue":e=>g.value=e,indeterminate:h.value,onChange:e=>b.value=e?l.colList.map((e=>e.prop)):f.value},{default:()=>[s("全选")]}),u(r("el-button"),{type:"warning",plain:!0,onClick:()=>b.value=v.value},{default:()=>[s("重置")]})]),u(r("el-divider"),{class:"my_2"},null),u(r("el-checkbox-group"),{modelValue:b.value,"onUpdate:modelValue":e=>b.value=e,onChange:()=>g.value=b.value.length===l.colList.length},(a=e=l.colList.map((e=>u(r("el-checkbox"),{label:e.prop,disabled:e.disabled},{default:()=>[e.label]}))),"function"==typeof a||"[object Object]"===Object.prototype.toString.call(a)&&!p(a)?e:{default:()=>[e]}))]);var a},customStyle:{width:"50%",maxWidth:"unset"},closeOnClickModal:!0,showCancelButton:!0}).then((e=>{m("submit",l.colList.map((e=>({...e,active:b.value.includes(e.prop)}))))}))},k=()=>u(r("el-button"),{icon:"ESetting",onClick:y},{default:()=>[s("设置表格列")]});return(e,a)=>(i(),d(k))}},S={class:"container"},W={style:{background:"var(--el-bg-color)"}},w={style:{background:"var(--el-bg-color)"}},L=_({__name:"table-com",setup(t){const o=m({data:[],column:[{type:"index",disabled:!0},{label:"头像",prop:"avatar",default:!0,render:({row:e})=>u(r("el-avatar"),{shape:"square",size:50,icon:"EUserFilled",style:{background:e.avatar}},null)},{label:"名称",prop:"name",default:!0,minWidth:120},{label:"中文名称",prop:"cname",default:!0,minWidth:100},{label:"年龄",prop:"age"},{label:"性别",prop:"sex",default:!0,minWidth:100,render:({row:e})=>e.sex?u(r("el-button"),{text:!0,icon:"AManOutlined"},{default:()=>[s("男")]}):u(r("el-button"),{text:!0,icon:"AWomanOutlined"},{default:()=>[s("女")]})},{label:"邮箱",prop:"email",default:!0,minWidth:200},{label:"状态",prop:"status",default:!0,render:({row:e})=>u(r("el-tag"),{type:e.status?"success":"danger"},{default:()=>[e.status?"启用":"禁用"]})},{label:"备注",prop:"remark",minWidth:200},{label:"IP",prop:"ip",default:!0,minWidth:130},{label:"日期",prop:"date",default:!0,minWidth:120},{label:"时间戳",prop:"timeStamp",default:!0,minWidth:220,render:({row:e})=>b(e.timeStamp).format("YYYY-MM-DD HH:mm:ss'SSS A")},{label:"城市",prop:"city",minWidth:100},{label:"地址",prop:"address",minWidth:200},{label:"邮编",prop:"zip"}].map((e=>({...e,active:e.active??e.default??e.disabled??!1,default:e.default??e.disabled??!1}))),loading:!1});return o.loading=!0,setTimeout((()=>{o.data=l.mock({"data|10":[{timeStamp:"@integer(631123200000, 1735660800000)",date:"@date",avatar:"@color",name:"@name",cname:"@cname",address:"@county(true)",age:"@integer(10, 50)",email:"@email",ip:"@ip",guid:"@guid",status:"@boolean",remark:"@csentence(10, 20)",sex:"@boolean",city:"@city",zip:"@zip"}]}).data,o.loading=!1}),1e3),(l,t)=>{const n=r("el-divider"),d=r("a-layout-content"),c=k("loading");return i(),v("div",S,[u(e,{overlayShow:""}),u(d,null,{default:f((()=>[u(x,{colList:o.column,onSubmit:t[0]||(t[0]=e=>o.column=e)},null,8,["colList"]),u(n,null,{default:f((()=>[s("表格--数据为Mockjs生成的随机数据")])),_:1}),g((i(),v("div",null,[u(a,{data:o.data,columns:o.column.filter((e=>e.active))},null,8,["data","columns"])])),[[c,o.loading]]),u(n,null,{default:f((()=>[s("列数据")])),_:1}),h("div",W,y(o.column),1),u(n,null,{default:f((()=>[s("表数据")])),_:1}),h("div",w,y(o.data),1)])),_:1})])}}},[["__scopeId","data-v-13ade0b6"]]);export{L as default};
